<tal:block
    tal:define="banner view/find_banner|nothing"
    i18n:domain="collective.behavior.banner">

  <aside id="portal-banner" class="banner" aria-label=""
      tal:condition="python: banner"
      tal:define="has_image python:banner and 'banner_image' in banner;
                  has_url python:banner and 'banner_url' in banner;
                  has_fontcolor python:banner and 'banner_fontcolor' in banner;
                  fontcolor python:has_fontcolor and banner['banner_fontcolor'] + ' !important' or '#4d4d4d';
                  has_backgroundcolor python:banner and 'banner_backgroundcolor' in banner;
                  backgroundcolor python:has_backgroundcolor and 'background:' + banner['banner_backgroundcolor'] + ' !important' or ''"
      tal:attributes="style backgroundcolor;
                      aria-label banner/banner_title | string:Banner">
    <div class="container">
      <div class="banner__container"
          tal:attributes="class python:'banner__container' if has_image else 'banner__container banner__container--no-image'">
        <picture class="banner__image-content" tal:condition="python:has_image">
          <img class="banner__image" src="" alt=""
              tal:define="banner_obj python: banner['banner_obj'];
                          scales banner_obj/@@images;"
              tal:replace="structure python:scales.tag('banner_image', scale=view.banner_scale(), css_class='banner__image', alt=banner['banner_alt'], title=None)" />
        </picture>

        <div class="bannerVideo"
            tal:condition="python:has_url and not has_image">
          <tal:iframe define="url banner/banner_url"
              replace="structure python:view.getVideoEmbedMarkup(url)">
          </tal:iframe>
        </div>

        <div class="bannerText">
          <h1 class="bannerTitle"
              tal:attributes="style string:color:${fontcolor}"
              tal:condition="python:'banner_title' in banner">
            <span tal:replace="banner/banner_title">Title</span>
          </h1>

          <p class="bannerDescription"
              tal:attributes="style string:color:${fontcolor}"
              tal:condition="python:'banner_description' in banner">
            <tal:def tal:define="banner_desc banner/banner_description;">
              <span tal:replace="banner_desc" />
            </tal:def>
          </p>

          <div class="bannerLink"
            tal:attributes="style string:color:${fontcolor}"
            tal:condition="python: 'banner_link' in banner">

            <p>
              <a class="context" role="button" href="" title=""
                  tal:attributes="href banner/banner_link; title banner/banner_linktext"
                  tal:content="banner/banner_linktext">Link</a>
            </p>
          </div>

          <div class="bannerBody"
              tal:attributes="style string:color:${fontcolor}"
              tal:condition="python:'banner_text' in banner">
            <span tal:replace="structure banner/banner_text">Text</span>
          </div>
        </div>
      </div>
    </div>
  </aside>
</tal:block>
